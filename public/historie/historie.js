const events = [{
    "year":"995",
    "event":"▼ Založení říma",
    "detail":" Podle pověsti byl Řím založen 21. dubna 753 př. n. l. v ústí řeky Tibery v oblasti zvané Latium [lácium] záhadnými Etrusky. Tuto pověst uvádí jako první římský historik Varro, který žil v 1. století př. n. l.Aeneas, syn dardanského krále Anchíse a bohyně lásky Venuše, patřil k nejstatečnějším obráncům Tróje. Unikl z hořícího města spolu se svým otcem Anchisem a synem Askaniem. Podle Diova příkazu si měl nový domov hledat v Itálii. Po sedmileté dobrodružné plavbě vplul do ústí Tibery a založil tam město Lavinium, které nazval podle své manželky Lavinie, dcery místního krále Latina. Aeneův syn Ascanius, zvaný též Iulus (od něj odvozoval svůj původ rod Iuliů, z nějž pocházel Caesar), založil pak město nové, Alba Longu, přímého předchůdce Říma. Dvanáctým nástupcem Askania byl král Prokas, který měl dva syny, staršího Numitora a mladšího Amulia. Amulius po smrti svého otce sesadil z trůnu svého staršího bratra Numitora, dal popravit jeho syny a dceru Rheu Silvii přinutil stát se kněžkou bohyně Vesty. Rhea Silvia sice jako kněžka slíbila věčné panenství, podlehla však bohu války Martovi a porodila mu dvojčata Romula a Rema.",
    "url":"https://cs.wikipedia.org/wiki/Vyvra%C5%BEd%C4%9Bn%C3%AD_Slavn%C3%ADkovc%C5%AF"
},
{
    "year":"996",
    "event":"▼ Druha udalost",
    "detail":"Unikl z hořícího města spolu se svým otcem Anchisem a synem Askaniem. Podle Diova příkazu si měl nový domov hledat v Itálii. Po sedmileté dobrodružné plavbě vplul do ústí Tibery a založil tam město Lavinium, které nazval podle své manželky Lavinie, dcery místního krále Latina. Aeneův syn",
    "url":"https://www.google.com/search?q=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&rlz=1C1AVFC_enCZ941CZ941&oq=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&aqs=chrome..69i57.10119j0j7&sourceid=chrome&ie=UTF-8"
},
{
    "year":"997",
    "event":"▼ Třetí událost",
    "detail":"Unikl z hořícího města spolu se svým otcem Anchisem a synem Askaniem. Podle Diova příkazu si měl nový domov hledat v Itálii. Po sedmileté dobrodružné plavbě vplul do ústí Tibery a založil tam město Lavinium, které nazval podle své manželky Lavinie, dcery místního krále Latina. Aeneův syn",
    "url":"https://www.google.com/search?q=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&rlz=1C1AVFC_enCZ941CZ941&oq=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&aqs=chrome..69i57.10119j0j7&sourceid=chrome&ie=UTF-8"
},
{
    "year":"998",
    "event":"▼ Čtvrtá udalost",
    "detail":"Unikl z hořícího města spolu se svým otcem Anchisem a synem Askaniem. Podle Diova příkazu si měl nový domov hledat v Itálii. Po sedmileté dobrodružné plavbě vplul do ústí Tibery a založil tam město Lavinium, které nazval podle své manželky Lavinie, dcery místního krále Latina. Aeneův syn",
    "url":"https://www.google.com/search?q=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&rlz=1C1AVFC_enCZ941CZ941&oq=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&aqs=chrome..69i57.10119j0j7&sourceid=chrome&ie=UTF-8"
},
{
    "year":"999",
    "event":"▼ Pátá udalost",
    "detail":"Unikl z hořícího města spolu se svým otcem Anchisem a synem Askaniem. Podle Diova příkazu si měl nový domov hledat v Itálii. Po sedmileté dobrodružné plavbě vplul do ústí Tibery a založil tam město Lavinium, které nazval podle své manželky Lavinie, dcery místního krále Latina. Aeneův syn",
    "url":"https://www.google.com/search?q=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&rlz=1C1AVFC_enCZ941CZ941&oq=Unikl+z+ho%C5%99%C3%ADc%C3%ADho+m%C4%9Bsta+spolu+se+sv%C3%BDm+otcem+Anchisem+a+synem+Askaniem.+Podle+Diova+p%C5%99%C3%ADkazu+si+m%C4%9Bl+nov%C3%BD+domov+hledat+v+It%C3%A1lii.+Po+sedmilet%C3%A9+dobrodru%C5%BEn%C3%A9+plavb%C4%9B+vplul+do+%C3%BAst%C3%AD+Tibery+a+zalo%C5%BEil+tam+m%C4%9Bsto+Lavinium%2C+kter%C3%A9+nazval+podle+sv%C3%A9+man%C5%BEelky+Lavinie%2C+dcery+m%C3%ADstn%C3%ADho+kr%C3%A1le+Latina.+Aene%C5%AFv+syn&aqs=chrome..69i57.10119j0j7&sourceid=chrome&ie=UTF-8"
}
];
const act = "active1";
const udalostiText = ".udalostiText"

$(function(){
    let persons = [];
    fetch('https://agile-peak-84733.herokuapp.com/api/persons')
    .then(response => { return response.json() })
    .then(json => { persons = json; })
    .catch(function (error) {
       console.error('Chyba: \n', error);
    });

    /*
    let events = [];
    fetch('http://localhost:6060/api/events')
        .then(response => {
            console.log(response);
            return response.json()
        })
        .then(json => {
            console.log(json);
            eventsBlock(json);
        })
        .catch(function (error) {
            console.error('Chyba: \n', error);
        });*/

    $(".jmena tr").on("click", function(){  
        $(".jmena tr").removeClass(act);
        $(this).addClass(act);
        let id = $(this).attr('id');
        let person = persons.find(item => {return item.id == id});
        $("#personsInfo").html(`
    <table class="table table-inverse table-bordered" id="personsInfoFunction">
        <thead class="thead-inverse">
            <tr>
                <th class="person-date">${person.date}</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <h4 class="person-name">${person.id}</h4>
                    <p class="person-detail">${person.detail}</p>
                </td>
            </tr>
            <tr>
                <td>Odkaz:<a href="${person.url}" target="_new" > ${person.url}</a></td>
            </tr>
                 
        </tbody>
        
    </table>
    <img src="img/${person.pic}" style="width: 30%">
        `);
    });
    $(".jmena tr").on("mouseover", function(){
            $(this).addClass("bg-success");
            $(this).css("color", "white");  
    });
    $(".jmena tr").on("mouseout", function(){
        $(this).removeClass("bg-success");
        $(this).css("color", "black");
    }); 
});

events.forEach((event)=>{
    $(".udalosti tbody").append(`<tr>
        <td class="event-year">${event.year}</td>
        <td>
          <p class="event-name"><i class="fas"></i> <a href="${event.url}" target="_new" > ${event.event}</a></p>
          <p class="event-detail">${event.detail}</p>
        </td>            
        <td></td>
    </tr>`);
}); 
    $(".event-detail").hide();
    $(".event-name i, .event-name a").on("mouseover", function(){
        $(".udalosti tbody tr").removeClass("bg-secondary text-white");
        $(this).parents("tr").addClass("bg-secondary text-white");
        $(".event-detail").hide();
        $(this).parent().next().show(500);
    });

    $("#personsInfoFunction").hide();
    
    $("#personsInfo tr").on("mouseover", function(){
        $(".udalosti tbody tr").removeClass("bg-secondary text-white");
        $(this).parents("tr").addClass("bg-secondary text-white");
        $("#personsInfoFunction").hide(); 
        $(this).parent().next().show(500);
    })